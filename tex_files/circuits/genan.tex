\begin{figure}
    \centering
    \caption{Structure and usage of a general ansatz}
    \label{circ:an}
    \begin{quantikz}
        & \gate[6]{U(\mathbf{\theta_i})}\gategroup[6,steps=1,style={dashed,rounded corners,fill=blue!20, inner xsep=2pt},background,label style={label position=below,anchor=north,yshift=-0.2cm}]{Base layer}&\gate[6]{U(\mathbf{\theta_j})}\gategroup[6,steps=4,style={dashed,rounded corners,fill=yellow!20, inner xsep=2pt},background,label style={label position=below,anchor=north,yshift=-0.2cm}]{Base layer repeated m times}&\gate[6]{U(\mathbf{\theta_k})} & \ \ldots\ & \gate[6]{U(\mathbf{\theta_l})} &\\
        & & & & \ \ldots\ & &\\
        & & & & \ \ldots\ & &\\
        \myvdots \\
        & & & & \ \ldots\ & &\\
        & & & & \ \ldots\ & &
    \end{quantikz}
\end{figure}